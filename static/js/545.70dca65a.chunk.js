"use strict";(self.webpackChunkreact_simple_movie=self.webpackChunkreact_simple_movie||[]).push([[545],{541:function(e,t,s){s.d(t,{d:function(){return d},Z:function(){return o}});s(791);var n=s(689),i=s(555),l=s(460),a=s(470),r=s(184),c=function(e){return(0,r.jsx)("div",{className:"skeleton ".concat(e.className),style:{height:e.height,width:e.width||"100%",borderRadius:e.radius}})};var o=(0,a.withErrorBoundary)((function(e){var t=e.item,s=t.title,a=t.vote_average,c=t.release_date,o=t.poster_path,d=t.id,u=(0,n.s0)();return(0,r.jsxs)("div",{className:"flex flex-col h-full p-3 text-white rounded-lg select-none movie-card bg-slate-800",children:[(0,r.jsx)("img",{src:i.Qo.image500(o),alt:"",className:"w-full h-[250px] object-cover rounded-lg mb-5"}),(0,r.jsx)("h3",{className:"mb-3 text-xl font-bold",children:s}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-10 text-sm opacity-50",children:[(0,r.jsx)("span",{children:new Date(c).getFullYear()}),(0,r.jsx)("span",{children:a})]}),(0,r.jsx)(l.Z,{onClick:function(){return u("/movie/".concat(d))},full:!0,children:"Watch now"})]})]})}),{FallbackComponent:function(){return(0,r.jsx)("p",{className:"text-red-400 bg-red-50",children:"Something went wrong with this component"})}}),d=function(){return(0,r.jsxs)("div",{className:"flex flex-col h-full p-3 text-white rounded-lg select-none movie-card bg-slate-800",children:[(0,r.jsx)(c,{width:"100%",height:"250px",radius:"8px",className:"mb-5"}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("h3",{className:"mb-3 text-xl font-bold",children:(0,r.jsx)(c,{width:"100%",height:"20px"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-10 text-sm opacity-50",children:[(0,r.jsx)("span",{children:(0,r.jsx)(c,{width:"50px",height:"10px"})}),(0,r.jsx)("span",{children:(0,r.jsx)(c,{width:"30px",height:"10px"})})]}),(0,r.jsx)(c,{width:"100%",height:"45px",radius:"6px"})]})]})}},545:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=s(885),i=s(791),l=(s(419),s(541)),a=s(555);s(48);var r=s(261),c=s(460),o=s(667),d=s(184),u=function(){var e,t,s=(0,i.useState)(0),u=(0,n.Z)(s,2),h=(u[0],u[1]),x=(0,i.useState)(0),f=(0,n.Z)(x,2),m=f[0],p=(f[1],(0,i.useState)(1)),g=(0,n.Z)(p,2),v=g[0],j=(g[1],(0,i.useState)("")),w=(0,n.Z)(j,2),b=w[0],N=w[1],k=(0,i.useState)(a.Qo.getMovieList("popular",v)),Z=(0,n.Z)(k,2),y=Z[0],_=Z[1],S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=(0,i.useState)(e),l=(0,n.Z)(s,2),a=l[0],r=l[1];return(0,i.useEffect)((function(){var s=setTimeout((function(){r(e)}),t);return function(){clearTimeout(s)}}),[t,e]),a}(b,500),C=(0,o.ZP)((function(e){return y.replace("page=1","page=".concat(e+1))}),a._i),M=C.data,E=C.error,L=C.size,Q=C.setSize,z=M?M.reduce((function(e,t){return e.concat(t.results)}),[]):[],T=!M&&!E,B=0===(null===M||void 0===M||null===(e=M[0])||void 0===e?void 0:e.results.length)||M&&(null===(t=M[M.length-1])||void 0===t?void 0:t.results.length)<20;console.log("MoviePage ~ isReachingEnd",B),(0,i.useEffect)((function(){_(S?a.Qo.getMovieSearch(S,v):a.Qo.getMovieList("popular",v))}),[S,v]),(0,i.useEffect)((function(){M&&M.total_results&&h(Math.ceil(M.total_results/20))}),[M,m]);return(0,d.jsxs)("div",{className:"py-10 page-container",children:[(0,d.jsxs)("div",{className:"flex mb-10",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("input",{type:"text",className:"w-full p-4 text-white outline-none bg-slate-800",placeholder:"Type here to search...",onChange:function(e){N(e.target.value)}})}),(0,d.jsx)("button",{className:"p-4 text-white bg-primary",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),T&&(0,d.jsx)("div",{className:"grid grid-cols-4 gap-10",children:new Array(20).fill(0).map((function(){return(0,d.jsx)(l.d,{},(0,r.Z)())}))}),(0,d.jsx)("div",{className:"grid grid-cols-4 gap-10",children:!T&&z.length>0&&z.map((function(e){return(0,d.jsx)(l.Z,{item:e},e.id)}))}),(0,d.jsx)("div",{className:"mt-10 text-center",children:(0,d.jsx)(c.Z,{onClick:function(){return B?{}:Q(L+1)},disabled:B,className:"".concat(B?"bg-slate-300":""),children:"Load more"})})]})}}}]);
//# sourceMappingURL=545.70dca65a.chunk.js.map